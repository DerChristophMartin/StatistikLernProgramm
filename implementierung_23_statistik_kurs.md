━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
23. STATISTIK-KURS INHALT (BEISPIEL)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  KURS-ÜBERSICHT
  ──────────────────────────────────────────────────────
  Der mitgelieferte Statistik-Grundkurs deckt alle wichtigen Themen
  für Einsteiger ab. Geschätzte Lernzeit: 15-20 Stunden.


  KAPITEL-STRUKTUR
  ──────────────────────────────────────────────────────

  ┌─────────────────────────────────────────────────────────────────────────────┐
  │ Kapitel 1: GRUNDLAGEN                                           ~2 Stunden │
  ├─────────────────────────────────────────────────────────────────────────────┤
  │ 1.1 Was ist Statistik?                                                     │
  │     - Deskriptive vs. Inferenzstatistik                                    │
  │     - Anwendungsbeispiele                                                  │
  │                                                                             │
  │ 1.2 Datentypen                                                             │
  │     - Nominal, Ordinal, Intervall, Ratio                                   │
  │     - Quiz: Welcher Datentyp?                                              │
  │                                                                             │
  │ 1.3 Erste Schritte mit Python                                              │
  │     - NumPy und Pandas Basics                                              │
  │     - Daten laden und erkunden                                             │
  │     - Übung: Datensatz explorieren                                         │
  └─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────────┐
  │ Kapitel 2: DESKRIPTIVE STATISTIK                                ~4 Stunden │
  ├─────────────────────────────────────────────────────────────────────────────┤
  │ 2.1 Lagemaße                                                               │
  │     - Mittelwert, Median, Modus                                            │
  │     - Gewichteter Mittelwert                                               │
  │     - Interaktiv: Ausreißer und Mittelwert/Median                         │
  │                                                                             │
  │ 2.2 Streuungsmaße                                                          │
  │     - Varianz und Standardabweichung                                       │
  │     - Spannweite und IQR                                                   │
  │     - Übung: Streuung berechnen                                            │
  │                                                                             │
  │ 2.3 Visualisierung                                                         │
  │     - Histogramme                                                          │
  │     - Boxplots                                                             │
  │     - Streudiagramme                                                       │
  │     - Übung: Eigene Plots erstellen                                        │
  │                                                                             │
  │ 2.4 Übungen und Quiz                                                       │
  │     - Zusammenfassende Übungsaufgaben                                      │
  │     - Kapitel-Quiz (15 Fragen)                                             │
  └─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────────┐
  │ Kapitel 3: WAHRSCHEINLICHKEIT                                   ~4 Stunden │
  ├─────────────────────────────────────────────────────────────────────────────┤
  │ 3.1 Grundbegriffe                                                          │
  │     - Ereignisse und Wahrscheinlichkeiten                                  │
  │     - Bedingte Wahrscheinlichkeit                                          │
  │     - Bayes-Theorem                                                        │
  │                                                                             │
  │ 3.2 Verteilungen                                                           │
  │     - Diskrete Verteilungen (Binomial, Poisson)                           │
  │     - Interaktiv: Parameter variieren                                      │
  │                                                                             │
  │ 3.3 Die Normalverteilung                                                   │
  │     - Eigenschaften und Standard-Normalverteilung                          │
  │     - z-Transformation                                                     │
  │     - Interaktiv: μ und σ verändern                                       │
  │                                                                             │
  │ 3.4 Der Zentrale Grenzwertsatz                                             │
  │     - Konzept und Bedeutung                                                │
  │     - Interaktiv: Stichprobengröße n erhöhen                              │
  │     - Übung: Simulation                                                    │
  └─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────────┐
  │ Kapitel 4: INFERENZSTATISTIK                                    ~5 Stunden │
  ├─────────────────────────────────────────────────────────────────────────────┤
  │ 4.1 Hypothesentests — Grundlagen                                           │
  │     - Nullhypothese und Alternativhypothese                               │
  │     - α-Fehler und β-Fehler                                               │
  │     - p-Wert interpretieren                                                │
  │                                                                             │
  │ 4.2 Der t-Test                                                             │
  │     - Ein-Stichproben t-Test                                               │
  │     - Zwei-Stichproben t-Test (unabhängig/gepaart)                        │
  │     - Übung: t-Test durchführen                                            │
  │                                                                             │
  │ 4.3 Der Chi-Quadrat-Test                                                   │
  │     - Anpassungstest                                                       │
  │     - Unabhängigkeitstest                                                  │
  │     - Übung mit Kontingenztabellen                                         │
  │                                                                             │
  │ 4.4 ANOVA                                                                  │
  │     - Einfaktorielle ANOVA                                                 │
  │     - Post-hoc Tests                                                       │
  │                                                                             │
  │ 4.5 Die p-Wert-Kontroverse                                                 │
  │     - Häufige Fehlinterpretationen                                         │
  │     - Konfidenzintervalle als Alternative                                  │
  │     - Effektstärken                                                        │
  └─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────────┐
  │ Kapitel 5: KORRELATION & REGRESSION                             ~5 Stunden │
  ├─────────────────────────────────────────────────────────────────────────────┤
  │ 5.1 Korrelation                                                            │
  │     - Pearson-Korrelation                                                  │
  │     - Spearman-Rangkorrelation                                             │
  │     - Korrelation ≠ Kausalität                                             │
  │     - Interaktiv: r-Wert erkunden                                          │
  │                                                                             │
  │ 5.2 Lineare Regression                                                     │
  │     - Einfache lineare Regression                                          │
  │     - Regressionskoeffizienten interpretieren                              │
  │     - R² als Gütemaß                                                       │
  │     - Interaktiv: Regressionslinie anpassen                               │
  │                                                                             │
  │ 5.3 Multiple Regression                                                    │
  │     - Mehrere Prädiktoren                                                  │
  │     - Multikollinearität                                                   │
  │     - Praktische Anwendung                                                 │
  │                                                                             │
  │ 5.4 Modelldiagnostik                                                       │
  │     - Residuenanalyse                                                      │
  │     - Ausreißer und Einflusspunkte                                         │
  │     - Voraussetzungen prüfen                                               │
  └─────────────────────────────────────────────────────────────────────────────┘


  BEISPIEL LEKTION: 2.1 LAGEMASSE
  ──────────────────────────────────────────────────────

  ---
  id: 02-01-lagemasse
  title: "Lagemaße: Mittelwert, Median und Modus"
  order: 1
  estimated_time: 20
  difficulty: beginner
  ---

  # Lagemaße

  **Lagemaße** beschreiben, wo das "Zentrum" einer Datenverteilung liegt.
  Die drei wichtigsten sind:

  - **Mittelwert** (arithmetisches Mittel)
  - **Median** (Zentralwert)
  - **Modus** (häufigster Wert)

  ## Der Mittelwert

  Der **arithmetische Mittelwert** ist das, was umgangssprachlich
  als "Durchschnitt" bezeichnet wird:

  $$
  \bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i = \frac{x_1 + x_2 + ... + x_n}{n}
  $$

  ```python
  import numpy as np

  # Beispieldaten: Klausurnoten
  noten = [2, 3, 1, 4, 2, 2, 3, 5, 2, 1]

  mittelwert = np.mean(noten)
  print(f"Der Mittelwert der Noten ist: {mittelwert:.2f}")
  ```

  :::tip
  Der Mittelwert nutzt alle Datenpunkte — daher ist er informationsreich,
  aber auch empfindlich gegenüber Ausreißern!
  :::

  ## Der Median

  Der **Median** ist der Wert, der genau in der Mitte einer
  **sortierten** Datenreihe liegt.

  - Bei ungerader Anzahl: Der mittlere Wert
  - Bei gerader Anzahl: Mittelwert der beiden mittleren Werte

  ```python
  median = np.median(noten)
  print(f"Der Median der Noten ist: {median}")

  # Zum Vergleich: sortierte Daten
  print(f"Sortiert: {sorted(noten)}")
  ```

  ## Mittelwert vs. Median

  Was passiert, wenn ein Ausreißer dabei ist?

  ```interactive
  title: Ausreißer-Experiment
  parameters:
    - name: ausreisser
      label: Ausreißer-Wert
      min: 1
      max: 100
      default: 5
      step: 1
  ---
  import numpy as np
  import matplotlib.pyplot as plt

  # Normale Daten + ein Ausreißer
  normale_daten = [2, 3, 1, 4, 2, 2, 3, 2, 1]
  daten_mit_ausreisser = normale_daten + [ausreisser]

  mw = np.mean(daten_mit_ausreisser)
  md = np.median(daten_mit_ausreisser)

  fig, ax = plt.subplots(figsize=(8, 4))
  ax.scatter(range(len(daten_mit_ausreisser)), daten_mit_ausreisser, 
             s=100, alpha=0.7, label='Daten')
  ax.axhline(mw, color='blue', linestyle='--', label=f'Mittelwert: {mw:.2f}')
  ax.axhline(md, color='red', linestyle='-', label=f'Median: {md}')
  ax.set_xlabel('Index')
  ax.set_ylabel('Wert')
  ax.legend()
  ax.set_title(f'Einfluss des Ausreißers ({ausreisser})')
  plt.tight_layout()
  plt.show()
  ```

  :::note Erkenntnis
  Je extremer der Ausreißer, desto mehr weicht der Mittelwert ab,
  während der Median stabil bleibt. Deshalb sagt man:
  **Der Median ist robust gegenüber Ausreißern**.
  :::

  ## Der Modus

  Der **Modus** ist der Wert, der am häufigsten vorkommt.
  Er ist besonders nützlich für kategoriale Daten.

  ```python
  from scipy import stats

  modus = stats.mode(noten, keepdims=True)
  print(f"Der Modus ist: {modus.mode[0]}")
  print(f"Er kommt {modus.count[0]} mal vor")
  ```

  ## Übung

  ```exercise
  title: Lagemaße berechnen
  description: |
    Berechne Mittelwert, Median und Modus für den folgenden Datensatz:
    [12, 15, 11, 15, 18, 15, 22, 14, 15, 13]
  starter_code: |
    import numpy as np
    from scipy import stats

    daten = [12, 15, 11, 15, 18, 15, 22, 14, 15, 13]

    # Berechne die Lagemaße
    mittelwert = 
    median = 
    modus = 

    print(f"Mittelwert: {mittelwert}")
    print(f"Median: {median}")
    print(f"Modus: {modus}")
  solution: |
    import numpy as np
    from scipy import stats

    daten = [12, 15, 11, 15, 18, 15, 22, 14, 15, 13]

    mittelwert = np.mean(daten)
    median = np.median(daten)
    modus = stats.mode(daten, keepdims=True).mode[0]

    print(f"Mittelwert: {mittelwert}")
    print(f"Median: {median}")
    print(f"Modus: {modus}")
  validation: |
    assert abs(mittelwert - 15.0) < 0.01, "Der Mittelwert sollte 15.0 sein"
    assert median == 15.0, "Der Median sollte 15.0 sein"
    assert modus == 15, "Der Modus sollte 15 sein"
  points: 15
  ```

  ## Quiz

  ```quiz
  type: multiple-choice
  question: Ein Gehaltsdatensatz hat einen Mittelwert von 75.000€ und einen Median von 52.000€. Was lässt sich daraus schließen?
  points: 10
  options:
    - text: Die Daten sind normalverteilt
      correct: false
      feedback: Bei einer Normalverteilung wären Mittelwert und Median ähnlich.
    - text: Es gibt einige sehr hohe Gehälter (Rechtsschief)
      correct: true
      feedback: Richtig! Hohe Ausreißer ziehen den Mittelwert nach oben.
    - text: Es gibt einige sehr niedrige Gehälter (Linksschief)
      correct: false
      feedback: Das würde den Mittelwert unter den Median drücken.
  explanation: |
    Wenn der Mittelwert deutlich über dem Median liegt, spricht das für
    eine rechtsschiefe Verteilung mit hohen Ausreißern. Bei Gehältern
    ist das typisch: Wenige Spitzenverdiener ziehen den Durchschnitt hoch.
  ```

  ## Zusammenfassung

  | Lagemaß    | Formel         | Robust? | Ideal für                |
  |------------|----------------|---------|--------------------------|
  | Mittelwert | Σxᵢ / n        | Nein    | Normalverteilte Daten    |
  | Median     | Mittlerer Wert | Ja      | Schiefe Verteilungen     |
  | Modus      | Häufigster     | Ja      | Kategoriale Daten        |

  ---

  ✅ **Lektion abgeschlossen!** Du hast gelernt:
  - Was Lagemaße sind und wozu sie dienen
  - Den Unterschied zwischen Mittelwert und Median
  - Warum der Median robust gegenüber Ausreißern ist

  → Weiter zu **2.2 Streuungsmaße**
